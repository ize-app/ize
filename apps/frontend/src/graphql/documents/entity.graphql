mutation NewEntities($entities: [NewEntityArgs!]!) {
  newEntities(entities: $entities) {
    ...Entity
  }
}

mutation NewCustomGroup($inputs: CustomGroupArgs!) {
  newCustomGroup(inputs: $inputs)
}

query Group($id: String!) {
  group(id: $id) {
    ...IzeGroup
  }
}

query Groups($cursor: String, $limit: Int!, $searchQuery: String!, $watchFilter: WatchFilter!) {
  groupsForCurrentUser(
    cursor: $cursor
    limit: $limit
    searchQuery: $searchQuery
    watchFilter: $watchFilter
  ) {
    ...IzeGroup
  }
}

fragment Entity on Entity {
  __typename
  ... on Group {
    ...GroupSummaryParts
  }
  ... on Identity {
    ...IdentitySummaryParts
  }
  ... on User {
    ...UserSummaryParts
  }
}

fragment GroupSummaryParts on Group {
  __typename
  id
  entityId
  name
  icon
  memberCount
  color
  createdAt
  groupType {
    ...GroupTypeSummaryParts
  }
  organization {
    ...OrganizationParts
  }
}

fragment IzeGroup on IzeGroup {
  groupId
  group {
    ...GroupSummaryParts
  }
  members {
    ...Entity
  }
  description
  notificationEntity {
    ...Entity
  }
  evolveGroupFlowId
  isWatched
  isMember
}

fragment GroupTypeSummaryParts on GroupType {
  __typename
  ... on DiscordRoleGroup {
    ...DiscordRoleGroupParts
  }
  ... on GroupNft {
    ...GroupNftParts
  }
  ... on GroupIze {
    ...GroupIze
  }
  ... on GroupTelegramChat {
    ...GroupTelegramChat
  }
}

fragment DiscordRoleGroupParts on DiscordRoleGroup {
  id
  name
  color
  icon
  discordRoleId
  discordServer {
    ...OnboardedDiscordServerParts
  }
}

fragment GroupNftParts on GroupNft {
  id
  name
  icon
  tokenId
  NftCollection {
    ...NftCollectionParts
  }
}

fragment GroupIze on GroupIze {
  id
  name
}

fragment GroupTelegramChat on GroupTelegramChat {
  id
  name
  icon
  chatId
  messageThreadId
}

fragment NftCollectionParts on NftCollection {
  id
  name
  icon
  chain
  type
  address
}

fragment OrganizationParts on Organization {
  name
  icon
}

fragment OnboardedDiscordServerParts on OnboardedDiscordServer {
  id
  discordServerId
  name
  icon
}

fragment IdentityBlockchainSummaryParts on IdentityBlockchain {
  id
  address
}

fragment IdentityEmailSummaryParts on IdentityEmail {
  id
  # email
  # icon
}

fragment IdentityDiscordSummaryParts on IdentityDiscord {
  id
  # username
  # discordUserId
  # avatar
}

fragment IdentityTelegram on IdentityTelegram {
  id
  # telegramUserId
  # photo
  # telegramUsername
}

fragment IdentityTypesSummaryParts on IdentityType {
  __typename
  ... on IdentityBlockchain {
    ...IdentityBlockchainSummaryParts
  }
  ... on IdentityEmail {
    ...IdentityEmailSummaryParts
  }
  ... on IdentityDiscord {
    ...IdentityDiscordSummaryParts
  }
  ... on IdentityTelegram {
    ...IdentityTelegram
  }
}

fragment IdentitySummaryParts on Identity {
  __typename
  id
  name
  icon
  entityId
  identityType {
    ...IdentityTypesSummaryParts
  }
}
