mutation NewEntities($entities: [NewEntityArgs!]!) {
  newEntities(entities: $entities) {
    ...EntitySummaryParts
  }
}

mutation NewCustomGroup($inputs: CustomGroupArgs!) {
  newCustomGroup(inputs: $inputs)
}

query Group($id: String!) {
  group(id: $id) {
    ...IzeGroup
  }
}

query Groups(
  $cursor: String
  $limit: Int!
  $searchQuery: String!
  $watchFilter: WatchGroupFilter!
) {
  groupsForCurrentUser(
    cursor: $cursor
    limit: $limit
    searchQuery: $searchQuery
    watchFilter: $watchFilter
  ) {
    ...GroupSummaryParts
  }
}

fragment EntitySummaryParts on Entity {
  __typename
  ... on Group {
    ...GroupSummaryParts
  }
  ... on Identity {
    ...IdentitySummaryParts
  }
}

fragment GroupSummaryParts on Group {
  __typename
  id
  entityId
  name
  icon
  memberCount
  color
  isWatched
  isMember
  createdAt
  groupType {
    ...GroupTypeSummaryParts
  }
  organization {
    ...OrganizationParts
  }
}

fragment IzeGroup on IzeGroup {
  group {
    ...GroupSummaryParts
  }
  members {
    ...EntitySummaryParts
  }
  description
}

fragment GroupTypeSummaryParts on GroupType {
  __typename
  ... on DiscordRoleGroup {
    ...DiscordRoleGroupParts
  }
  ... on GroupNft {
    ...GroupNftParts
  }
  ... on GroupCustom {
    ...GroupCustomParts
  }
}

fragment DiscordRoleGroupParts on DiscordRoleGroup {
  id
  name
  color
  icon
  discordRoleId
  discordServer {
    ...OnboardedDiscordServerParts
  }
}

fragment GroupNftParts on GroupNft {
  id
  name
  icon
  tokenId
  NftCollection {
    ...NftCollectionParts
  }
}

fragment GroupCustomParts on GroupCustom {
  id
  name
}

fragment NftCollectionParts on NftCollection {
  id
  name
  icon
  chain
  type
  address
}

fragment OrganizationParts on Organization {
  name
  icon
}

fragment OnboardedDiscordServerParts on OnboardedDiscordServer {
  id
  discordServerId
  name
  icon
}

fragment IdentityBlockchainSummaryParts on IdentityBlockchain {
  id
  address
}

fragment IdentityEmailSummaryParts on IdentityEmail {
  id
  email
  icon
}

fragment IdentityDiscordSummaryParts on IdentityDiscord {
  id
  username
  discordUserId
  avatar
}

fragment IdentityTypesSummaryParts on IdentityType {
  __typename
  ... on IdentityBlockchain {
    ...IdentityBlockchainSummaryParts
  }
  ... on IdentityEmail {
    ...IdentityEmailSummaryParts
  }
  ... on IdentityDiscord {
    ...IdentityDiscordSummaryParts
  }
}

fragment IdentitySummaryParts on Identity {
  __typename
  id
  name
  icon
  entityId
  identityType {
    ...IdentityTypesSummaryParts
  }
}
