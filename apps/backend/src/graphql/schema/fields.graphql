union Field = Options | FreeInput

input FieldAnswerArgs {
  fieldId: String!
  value: String
  optionSelections: [String!]
}

type Options {
  fieldId: String!
  name: String!
  required: Boolean!
  previousStepOptions: Boolean!
  hasRequestOptions: Boolean!
  requestOptionsDataType: FieldDataType
  selectionType: FieldOptionsSelectionType!
  maxSelections: Int
  linkedResultOptions: [String!]!
  options: [Option!]!
}

type FreeInput {
  fieldId: String!
  name: String!
  required: Boolean!
  dataType: FieldDataType!
}

type Option {
  optionId: String!
  name: String!
  dataType: FieldDataType!
}

# Should match prisma enum by same name
enum FieldDataType {
  String
  Number
  Uri
  Date
  DateTime
}

enum FieldType {
  Options
  FreeInput
}

enum FieldOptionsSelectionType {
  Rank
  MultiSelect
  Select
}

union FieldAnswer = OptionFieldAnswer | FreeInputFieldAnswer

type OptionFieldAnswer {
  fieldId: String!
  selections: [OptionFieldAnswerSelection!]!
}

type FreeInputFieldAnswer {
  fieldId: String!
  value: String!
}

# later will use this type to add option free inputs
type OptionFieldAnswerSelection {
  optionId: String
}

input FieldArgs {
  fieldId: String!
  type: FieldType!
  name: String!
  required: Boolean!
  freeInputDataType: FieldDataType
  optionsConfig: FieldOptionsConfigArgs
}

input FieldOptionsConfigArgs {
  previousStepOptions: Boolean!
  requestOptionsDataType: FieldDataType
  hasRequestOptions: Boolean!
  maxSelections: Int
  selectionType: FieldOptionsSelectionType!
  linkedResultOptions: [LinkedResultOptionsArgs!]!
  options: [FieldOptionArgs!]!
}

input FieldOptionArgs {
  optionId: String
  dataType: FieldDataType!
  name: String!
}

input LinkedResultOptionsArgs {
  resultIndex: Int!
  stepIndex: Int!
}
